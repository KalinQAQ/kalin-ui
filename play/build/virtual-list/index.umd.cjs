(function(n,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue")):typeof define=="function"&&define.amd?define(["vue"],o):(n=typeof globalThis<"u"?globalThis:n||self,n.index=o(n.vue))})(this,function(n){"use strict";function o(t){return t.install=function(a){const{name:r}=t;a.component(r,t)},t}function i(t,a,r,l){return a&&(t+=`-${a}`),r&&(t+=`__${r}`),l&&(t+=`--${l}`),t}function y(t){return{b:(e="")=>i(t,e,"",""),e:(e="")=>e?i(t,"",e,""):"",m:(e="")=>e?i(t,"","",e):"",be:(e="",s="")=>e&&s?i(t,e,s,""):"",bm:(e="",s="")=>e&&s?i(t,e,"",s):"",em:(e="",s="")=>e&&s?i(t,"",e,s):"",bem:(e="",s="",u="")=>e&&s&&u?i(t,e,s,u):"",is:(e,s)=>s?`is-${e}`:""}}function v(t){const a=`k-${t}`;return y(a)}return o(n.defineComponent({name:"KVirtualList",props:{size:{type:Number,default:35},remain:{default:8,type:Number},items:{type:Array,default:()=>[]}},setup(t,{slots:a}){const r=v("vl"),l=n.ref(),d=n.ref(),c=n.reactive({start:0,end:t.remain}),m=n.computed(()=>Math.min(c.start,t.remain)),h=n.computed(()=>Math.min(t.remain,t.items.length-c.end)),b=n.computed(()=>t.items.slice(c.start-m.value,c.end+h.value)),e=n.ref(0),s=()=>{const f=l.value.scrollTop;c.start=Math.floor(f/t.size),c.end=c.start+t.remain,e.value=c.start*t.size-t.size*m.value};function u(){l.value.style.height=t.remain*t.size+"px",d.value.style.height=t.items.length*t.size+"px"}return n.watch(()=>t.items,()=>u()),n.onMounted(()=>u()),()=>n.createVNode("div",{class:r.b(),ref:l,onScroll:s},[n.createVNode("div",{class:r.e("scroll-bar"),ref:d},null),n.createVNode("div",{class:r.e("scroll-list"),style:{transform:`translate3d(0,${e.value}px,0)`}},[b.value.map((f,V)=>a.default({node:f}))])])}}))});
