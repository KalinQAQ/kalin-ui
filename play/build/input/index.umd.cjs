(function(d,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(d=typeof globalThis<"u"?globalThis:d||self,n(d.index={},d.vue))})(this,function(d,n){"use strict";function I(e){return e.install=function(t){const{name:s}=e;t.component(s,e)},e}process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const A=()=>{},N=Object.assign,F=Array.isArray,q=e=>typeof e=="function",E=e=>typeof e=="string",G=e=>typeof e=="symbol";let W;function H(e,t=W){t&&t.active&&t.effects.push(e)}const B=e=>{const t=new Set(e);return t.w=0,t.n=0,t},C=e=>(e.w&f)>0,S=e=>(e.n&f)>0,J=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=f},K=e=>{const{deps:t}=e;if(t.length){let s=0;for(let o=0;o<t.length;o++){const l=t[o];C(l)&&!S(l)?l.delete(e):t[s++]=l,l.w&=~f,l.n&=~f}t.length=s}};let y=0,f=1;const w=30;let i;Symbol(process.env.NODE_ENV!=="production"?"iterate":""),Symbol(process.env.NODE_ENV!=="production"?"Map key iterate":"");class L{constructor(t,s=null,o){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,H(this,o)}run(){if(!this.active)return this.fn();let t=i,s=g;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=i,i=this,g=!0,f=1<<++y,y<=w?J(this):T(this),this.fn()}finally{y<=w&&K(this),f=1<<--y,i=this.parent,g=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){i===this?this.deferStop=!0:this.active&&(T(this),this.onStop&&this.onStop(),this.active=!1)}}function T(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let g=!0;function D(e,t){let s=!1;y<=w?S(e)||(e.n|=f,s=!C(e)):s=!e.has(i),s&&(e.add(i),i.deps.push(e),process.env.NODE_ENV!=="production"&&i.onTrack&&i.onTrack(N({effect:i},t)))}function O(e,t){const s=F(e)?e:[...e];for(const o of s)o.computed&&P(o,t);for(const o of s)o.computed||P(o,t)}function P(e,t){(e!==i||e.allowRecurse)&&(process.env.NODE_ENV!=="production"&&e.onTrigger&&e.onTrigger(N({effect:e},t)),e.scheduler?e.scheduler():e.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(G));function m(e){const t=e&&e.__v_raw;return t?m(t):e}function Q(e){g&&i&&(e=m(e),process.env.NODE_ENV!=="production"?D(e.dep||(e.dep=B()),{target:e,type:"get",key:"value"}):D(e.dep||(e.dep=B())))}function U(e,t){e=m(e);const s=e.dep;s&&(process.env.NODE_ENV!=="production"?O(s,{target:e,type:"set",key:"value",newValue:t}):O(s))}class X{constructor(t,s,o,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new L(t,()=>{this._dirty||(this._dirty=!0,U(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const t=m(this);return Q(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function z(e,t,s=!1){let o,l;const p=q(e);p?(o=e,l=process.env.NODE_ENV!=="production"?()=>{console.warn("Write operation failed: computed value is readonly")}:A):(o=e.get,l=e.set);const h=new X(o,l,p||!l,s);return process.env.NODE_ENV!=="production"&&t&&!s&&(h.effect.onTrack=t.onTrack,h.effect.onTrigger=t.onTrigger),h}function u(e,t,s,o){return t&&(e+=`-${t}`),s&&(e+=`__${s}`),o&&(e+=`--${o}`),e}function Y(e){return{b:(r="")=>u(e,r,"",""),e:(r="")=>r?u(e,"",r,""):"",m:(r="")=>r?u(e,"","",r):"",be:(r="",a="")=>r&&a?u(e,r,a,""):"",bm:(r="",a="")=>r&&a?u(e,r,"",a):"",em:(r="",a="")=>r&&a?u(e,"",r,a):"",bem:(r="",a="",k="")=>r&&a&&k?u(e,r,a,k):"",is:(r,a)=>a?`is-${r}`:""}}function Z(e){const t=`k-${e}`;return Y(t)}const R={modelValue:{type:[Number,String],default:""},type:{type:String,default:"text"},placeholder:{type:String},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},clearable:{type:Boolean},showPassword:{type:Boolean,default:!1},label:{type:String}},$={"update:modelValue":e=>E(e),input:e=>E(e),change:e=>E(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,keydown:e=>e instanceof Event,clear:()=>!0},x=["type","placeholder","disabled","readonly"],v=n.defineComponent({name:"k-input",inheritAttrs:!1}),ee=n.defineComponent({...v,props:R,emits:$,setup(e,{emit:t}){const s=e,o=n.inject("form-item"),l=Z("input"),p=n.useSlots(),h=n.useAttrs();n.watch(()=>s.modelValue,()=>{o==null||o.validate("change"),b()});const _=n.ref(null),b=()=>{const c=_.value;c&&(c.value=String(s.modelValue))};n.onMounted(()=>{b()});const r=async()=>{var c;await n.nextTick(),(c=_.value)==null||c.focus()},a=n.ref(!1),k=z(()=>s.modelValue&&s.showPassword&&!s.disabled&&!s.readonly),te=()=>{a.value=!a.value,r()},ne=z(()=>s.modelValue&&s.clearable&&!s.disabled&&!s.readonly),se=()=>{t("input",""),t("update:modelValue",""),t("clear"),r()},oe=c=>{const V=c.target.value;t("input",V),t("update:modelValue",V)},re=c=>{t("change",c.target.value)},le=c=>{t("focus",c)},ce=c=>{o==null||o.validate("blur"),t("blur",c)};return(c,V)=>{const j=n.resolveComponent("k-icon");return n.openBlock(),n.createElementBlock("div",{class:n.normalizeClass([n.unref(l).b()])},[n.createElementVNode("div",{class:n.normalizeClass(n.unref(l).e("group"))},[n.unref(p).prepend?(n.openBlock(),n.createElementBlock("div",{key:0,class:n.normalizeClass(n.unref(l).be("group","prepend"))},[n.renderSlot(c.$slots,"prepend")],2)):n.createCommentVNode("",!0),n.createElementVNode("div",{class:n.normalizeClass([n.unref(l).e("wrapper")])},[n.unref(p).prefixIcon?(n.openBlock(),n.createElementBlock("span",{key:0,class:n.normalizeClass(n.unref(l).e("prefix"))},[n.renderSlot(c.$slots,"prefixIcon")],2)):n.createCommentVNode("",!0),n.createElementVNode("input",n.mergeProps(n.unref(h),{ref_key:"input",ref:_,type:c.showPassword?a.value?"text":"password":c.type,class:n.unref(l).e("inner"),placeholder:c.placeholder,disabled:c.disabled,readonly:c.readonly,onInput:oe,onChange:re,onBlur:ce,onFocus:le}),null,16,x),n.unref(k)?(n.openBlock(),n.createBlock(j,{key:1,style:{"line-height":"16px","font-weight":"bold"},onClick:te},{default:n.withCtx(()=>[n.createTextVNode(" e ")]),_:1})):n.createCommentVNode("",!0),n.unref(ne)?(n.openBlock(),n.createBlock(j,{key:2,style:{"line-height":"16px","font-weight":"bold"},onClick:se},{default:n.withCtx(()=>[n.createTextVNode(" x ")]),_:1})):n.createCommentVNode("",!0),n.unref(p).sufixIcon?(n.openBlock(),n.createElementBlock("span",{key:3,class:n.normalizeClass(n.unref(l).e("suffix"))},[n.renderSlot(c.$slots,"sufixIcon")],2)):n.createCommentVNode("",!0)],2),n.unref(p).append?(n.openBlock(),n.createElementBlock("div",{key:1,class:n.normalizeClass(n.unref(l).be("group","append"))},[n.renderSlot(c.$slots,"append")],2)):n.createCommentVNode("",!0)],2)],2)}}}),M=I(ee);d.Input=M,d.default=M,d.inputEmits=$,d.inputProps=R,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
