(function(T,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(T=typeof globalThis<"u"?globalThis:T||self,t(T.index={},T.vue))})(this,function(T,t){"use strict";function rt(d){return d.install=function(O){const{name:k}=d;O.component(k,d)},d}function N(d,O,k,b){return O&&(d+=`-${O}`),k&&(d+=`__${k}`),b&&(d+=`--${b}`),d}function at(d){return{b:(l="")=>N(d,l,"",""),e:(l="")=>l?N(d,"",l,""):"",m:(l="")=>l?N(d,"","",l):"",be:(l="",$="")=>l&&$?N(d,l,$,""):"",bm:(l="",$="")=>l&&$?N(d,l,"",$):"",em:(l="",$="")=>l&&$?N(d,"",l,$):"",bem:(l="",$="",g="")=>l&&$&&g?N(d,l,$,g):"",is:(l,$)=>$?`is-${l}`:""}}function K(d){const O=`k-${d}`;return at(O)}var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var tt={exports:{}};(function(d,O){(function(k,b){d.exports=b()})(st,function(){var k=1e3,b=6e4,F=36e5,E="millisecond",_="second",m="minute",C="hour",l="day",$="week",g="month",Z="quarter",V="year",x="date",q="Invalid Date",G=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],e=s%100;return"["+s+(r[(e-20)%10]||r[e]||r[0])+"]"}},z=function(s,r,e){var a=String(s);return!a||a.length>=r?s:""+Array(r+1-a.length).join(e)+s},X={s:z,z:function(s){var r=-s.utcOffset(),e=Math.abs(r),a=Math.floor(e/60),n=e%60;return(r<=0?"+":"-")+z(a,2,"0")+":"+z(n,2,"0")},m:function s(r,e){if(r.date()<e.date())return-s(e,r);var a=12*(e.year()-r.year())+(e.month()-r.month()),n=r.clone().add(a,g),o=e-n<0,c=r.clone().add(a+(o?-1:1),g);return+(-(a+(e-n)/(o?n-c:c-n))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:g,y:V,w:$,d:l,D:x,h:C,m,s:_,ms:E,Q:Z}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},A="en",v={};v[A]=I;var P=function(s){return s instanceof p},f=function s(r,e,a){var n;if(!r)return A;if(typeof r=="string"){var o=r.toLowerCase();v[o]&&(n=o),e&&(v[o]=e,n=o);var c=r.split("-");if(!n&&c.length>1)return s(c[0])}else{var h=r.name;v[h]=r,n=h}return!a&&n&&(A=n),n||!a&&A},u=function(s,r){if(P(s))return s.clone();var e=typeof r=="object"?r:{};return e.date=s,e.args=arguments,new p(e)},i=X;i.l=f,i.i=P,i.w=function(s,r){return u(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var p=function(){function s(e){this.$L=f(e.locale,null,!0),this.parse(e)}var r=s.prototype;return r.parse=function(e){this.$d=function(a){var n=a.date,o=a.utc;if(n===null)return new Date(NaN);if(i.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var c=n.match(G);if(c){var h=c[2]-1||0,y=(c[7]||"0").substring(0,3);return o?new Date(Date.UTC(c[1],h,c[3]||1,c[4]||0,c[5]||0,c[6]||0,y)):new Date(c[1],h,c[3]||1,c[4]||0,c[5]||0,c[6]||0,y)}}return new Date(n)}(e),this.$x=e.x||{},this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return i},r.isValid=function(){return this.$d.toString()!==q},r.isSame=function(e,a){var n=u(e);return this.startOf(a)<=n&&n<=this.endOf(a)},r.isAfter=function(e,a){return u(e)<this.startOf(a)},r.isBefore=function(e,a){return this.endOf(a)<u(e)},r.$g=function(e,a,n){return i.u(e)?this[a]:this.set(n,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,a){var n=this,o=!!i.u(a)||a,c=i.p(e),h=function(L,w){var Y=i.w(n.$u?Date.UTC(n.$y,w,L):new Date(n.$y,w,L),n);return o?Y:Y.endOf(l)},y=function(L,w){return i.w(n.toDate()[L].apply(n.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(w)),n)},D=this.$W,M=this.$M,S=this.$D,W="set"+(this.$u?"UTC":"");switch(c){case V:return o?h(1,0):h(31,11);case g:return o?h(1,M):h(0,M+1);case $:var H=this.$locale().weekStart||0,U=(D<H?D+7:D)-H;return h(o?S-U:S+(6-U),M);case l:case x:return y(W+"Hours",0);case C:return y(W+"Minutes",1);case m:return y(W+"Seconds",2);case _:return y(W+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,a){var n,o=i.p(e),c="set"+(this.$u?"UTC":""),h=(n={},n[l]=c+"Date",n[x]=c+"Date",n[g]=c+"Month",n[V]=c+"FullYear",n[C]=c+"Hours",n[m]=c+"Minutes",n[_]=c+"Seconds",n[E]=c+"Milliseconds",n)[o],y=o===l?this.$D+(a-this.$W):a;if(o===g||o===V){var D=this.clone().set(x,1);D.$d[h](y),D.init(),this.$d=D.set(x,Math.min(this.$D,D.daysInMonth())).$d}else h&&this.$d[h](y);return this.init(),this},r.set=function(e,a){return this.clone().$set(e,a)},r.get=function(e){return this[i.p(e)]()},r.add=function(e,a){var n,o=this;e=Number(e);var c=i.p(a),h=function(M){var S=u(o);return i.w(S.date(S.date()+Math.round(M*e)),o)};if(c===g)return this.set(g,this.$M+e);if(c===V)return this.set(V,this.$y+e);if(c===l)return h(1);if(c===$)return h(7);var y=(n={},n[m]=b,n[C]=F,n[_]=k,n)[c]||1,D=this.$d.getTime()+e*y;return i.w(D,this)},r.subtract=function(e,a){return this.add(-1*e,a)},r.format=function(e){var a=this,n=this.$locale();if(!this.isValid())return n.invalidDate||q;var o=e||"YYYY-MM-DDTHH:mm:ssZ",c=i.z(this),h=this.$H,y=this.$m,D=this.$M,M=n.weekdays,S=n.months,W=n.meridiem,H=function(w,Y,J,Q){return w&&(w[Y]||w(a,o))||J[Y].slice(0,Q)},U=function(w){return i.s(h%12||12,w,"0")},L=W||function(w,Y,J){var Q=w<12?"AM":"PM";return J?Q.toLowerCase():Q};return o.replace(B,function(w,Y){return Y||function(J){switch(J){case"YY":return String(a.$y).slice(-2);case"YYYY":return i.s(a.$y,4,"0");case"M":return D+1;case"MM":return i.s(D+1,2,"0");case"MMM":return H(n.monthsShort,D,S,3);case"MMMM":return H(S,D);case"D":return a.$D;case"DD":return i.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return H(n.weekdaysMin,a.$W,M,2);case"ddd":return H(n.weekdaysShort,a.$W,M,3);case"dddd":return M[a.$W];case"H":return String(h);case"HH":return i.s(h,2,"0");case"h":return U(1);case"hh":return U(2);case"a":return L(h,y,!0);case"A":return L(h,y,!1);case"m":return String(y);case"mm":return i.s(y,2,"0");case"s":return String(a.$s);case"ss":return i.s(a.$s,2,"0");case"SSS":return i.s(a.$ms,3,"0");case"Z":return c}return null}(w)||c.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,a,n){var o,c=this,h=i.p(a),y=u(e),D=(y.utcOffset()-this.utcOffset())*b,M=this-y,S=function(){return i.m(c,y)};switch(h){case V:o=S()/12;break;case g:o=S();break;case Z:o=S()/3;break;case $:o=(M-D)/6048e5;break;case l:o=(M-D)/864e5;break;case C:o=M/F;break;case m:o=M/b;break;case _:o=M/k;break;default:o=M}return n?o:i.a(o)},r.daysInMonth=function(){return this.endOf(g).$D},r.$locale=function(){return v[this.$L]},r.locale=function(e,a){if(!e)return this.$L;var n=this.clone(),o=f(e,a,!0);return o&&(n.$L=o),n},r.clone=function(){return i.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),j=p.prototype;return u.prototype=j,[["$ms",E],["$s",_],["$m",m],["$H",C],["$W",l],["$M",g],["$y",V],["$D",x]].forEach(function(s){j[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),u.extend=function(s,r){return s.$i||(s(r,p,u),s.$i=!0),u},u.locale=f,u.isDayjs=P,u.unix=function(s){return u(1e3*s)},u.en=v[A],u.Ls=v,u.p={},u})})(tt);var it=tt.exports;const R=ot(it),et={modelValue:{type:Date},range:{type:Array}},nt={"update:modelValue":d=>d instanceof Date},ct=["onClick"],ut=t.defineComponent({name:"k-calendar"}),lt=t.defineComponent({...ut,props:et,emits:nt,setup(d,{emit:O}){const k=d,b=K("calendar"),F=K("calendar-table"),E=K("calendar-day"),_=R(),m=t.computed(()=>k.modelValue?R(k.modelValue):_),C=R().startOf("week").day(),l=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],$=t.computed(()=>[...l.slice(C),...l.slice(0,C)]),g=t.computed(()=>{let f=[];const u=m.value.startOf("month").day(),i=m.value.subtract(1,"month").endOf("month").date(),p=u-C,j=Array.from({length:p}).map((n,o)=>i-(p-o-1)).map(n=>({text:n,type:"prev"})),s=m.value.daysInMonth(),r=Array.from({length:s}).map((n,o)=>({text:o+1,type:"current"}));f=[...j,...r];const e=42-f.length,a=Array.from({length:e}).map((n,o)=>({text:o+1,type:"next"}));return f.push(...a),Array.from({length:6}).map((n,o)=>{const c=o*7;return f.slice(c,c+7)})}),Z=t.computed(()=>m.value.subtract(1,"month").date(1)),V=t.computed(()=>m.value.add(1,"month").date(1)),x=t.computed(()=>m.value.subtract(1,"year").date(1)),q=t.computed(()=>m.value.add(1,"year").date(1));function G(f){z.value=f,O("update:modelValue",f.toDate())}function B(f){const i={"prev-month":Z.value,"next-month":V.value,"prev-year":x.value,"next-year":q.value,today:_}[f];G(i)}function I(f,u){switch(u){case"prev":return m.value.startOf("month").subtract(1,"month").date(f);case"current":return m.value.date(f);case"next":return m.value.startOf("month").add(1,"month").date(f)}}const z=t.ref();function X({text:f,type:u}){const i=I(f,u);G(i)}function A({text:f,type:u}){const i=[u],p=I(f,u);return p.isSame(z.value,"day")&&i.push(E.is("selected",!0)),p.isSame(_,"day")&&i.push(E.is("today",!0)),i}const v=t.computed(()=>`${m.value.year()}年${m.value.month()+1}月${m.value.day()}日`);function P({text:f,type:u}){const i=I(f,u);return{isSelected:i.isSame(z.value),day:i.format("YYYY-MM-DD"),date:i.toDate(),type:u}}return(f,u)=>{const i=t.resolveComponent("k-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(t.unref(b).b())},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(b).e("header"))},[t.createElementVNode("div",{class:t.normalizeClass(t.unref(b).e("title"))},t.toDisplayString(v.value),3),t.createElementVNode("div",{class:t.normalizeClass(t.unref(b).e("button-group"))},[t.createVNode(i,{onClick:u[0]||(u[0]=p=>B("prev-year"))},{default:t.withCtx(()=>[t.createTextVNode(" 前一年 ")]),_:1}),t.createVNode(i,{onClick:u[1]||(u[1]=p=>B("prev-month"))},{default:t.withCtx(()=>[t.createTextVNode(" 上个月 ")]),_:1}),t.createVNode(i,{onClick:u[2]||(u[2]=p=>B("today"))},{default:t.withCtx(()=>[t.createTextVNode(" 今天 ")]),_:1}),t.createVNode(i,{onClick:u[3]||(u[3]=p=>B("next-month"))},{default:t.withCtx(()=>[t.createTextVNode(" 下个月 ")]),_:1}),t.createVNode(i,{onClick:u[4]||(u[4]=p=>B("next-year"))},{default:t.withCtx(()=>[t.createTextVNode(" 下一年 ")]),_:1})],2)],2),t.createElementVNode("div",{class:t.normalizeClass(t.unref(b).e("body"))},[t.createElementVNode("table",{class:t.normalizeClass(t.unref(F).b()),cellpadding:"0",cellspacing:"0"},[t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList($.value,p=>(t.openBlock(),t.createElementBlock("th",{key:p},t.toDisplayString(p),1))),128))])]),t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(g.value,(p,j)=>(t.openBlock(),t.createElementBlock("tr",{key:j},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(p,(s,r)=>(t.openBlock(),t.createElementBlock("td",{key:r,class:t.normalizeClass([t.unref(E).b(),A(s)]),onClick:e=>X(s)},[t.renderSlot(f.$slots,"date-cell",{data:P(s)},()=>[t.createTextVNode(t.toDisplayString(s.text),1)])],10,ct))),128))]))),128))])],2)],2)],2)}}}),dt=rt(lt);T.calendarEmits=nt,T.calendarProps=et,T.default=dt,Object.defineProperties(T,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
